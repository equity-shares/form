{"version":3,"file":"solid-js_h.js","names":["h"],"sources":["../../solid-js/h/dist/h.js"],"sourcesContent":["import { spread, assign, insert, createComponent, dynamicProperty, SVGElements } from 'solid-js/web';\n\nconst $ELEMENT = Symbol(\"hyper-element\");\nfunction createHyperScript(r) {\n  function h() {\n    let args = [].slice.call(arguments),\n      e,\n      classes = [],\n      multiExpression = false;\n    while (Array.isArray(args[0])) args = args[0];\n    if (args[0][$ELEMENT]) args.unshift(h.Fragment);\n    typeof args[0] === \"string\" && detectMultiExpression(args);\n    const ret = () => {\n      while (args.length) item(args.shift());\n      if (e instanceof Element && classes.length) e.classList.add(...classes);\n      return e;\n    };\n    ret[$ELEMENT] = true;\n    return ret;\n    function item(l) {\n      const type = typeof l;\n      if (l == null) ;else if (\"string\" === type) {\n        if (!e) parseClass(l);else e.appendChild(document.createTextNode(l));\n      } else if (\"number\" === type || \"boolean\" === type || \"bigint\" === type || \"symbol\" === type || l instanceof Date || l instanceof RegExp) {\n        e.appendChild(document.createTextNode(l.toString()));\n      } else if (Array.isArray(l)) {\n        for (let i = 0; i < l.length; i++) item(l[i]);\n      } else if (l instanceof Element) {\n        r.insert(e, l, multiExpression ? null : undefined);\n      } else if (\"object\" === type) {\n        let dynamic = false;\n        const d = Object.getOwnPropertyDescriptors(l);\n        for (const k in d) {\n          if (k === \"class\" && classes.length !== 0) {\n            const fixedClasses = classes.join(\" \"),\n              value = typeof d[\"class\"].value === \"function\" ? () => fixedClasses + \" \" + d[\"class\"].value() : fixedClasses + \" \" + l[\"class\"];\n            Object.defineProperty(l, \"class\", {\n              ...d[k],\n              value\n            });\n            classes = [];\n          }\n          if (k !== \"ref\" && k.slice(0, 2) !== \"on\" && typeof d[k].value === \"function\") {\n            r.dynamicProperty(l, k);\n            dynamic = true;\n          } else if (d[k].get) dynamic = true;\n        }\n        dynamic ? r.spread(e, l, e instanceof SVGElement, !!args.length) : r.assign(e, l, e instanceof SVGElement, !!args.length);\n      } else if (\"function\" === type) {\n        if (!e) {\n          let props,\n            next = args[0];\n          if (next == null || typeof next === \"object\" && !Array.isArray(next) && !(next instanceof Element)) props = args.shift();\n          props || (props = {});\n          if (args.length) {\n            props.children = args.length > 1 ? args : args[0];\n          }\n          const d = Object.getOwnPropertyDescriptors(props);\n          for (const k in d) {\n            if (Array.isArray(d[k].value)) {\n              const list = d[k].value;\n              props[k] = () => {\n                for (let i = 0; i < list.length; i++) {\n                  while (list[i][$ELEMENT]) list[i] = list[i]();\n                }\n                return list;\n              };\n              r.dynamicProperty(props, k);\n            } else if (typeof d[k].value === \"function\" && !d[k].value.length) r.dynamicProperty(props, k);\n          }\n          e = r.createComponent(l, props);\n          args = [];\n        } else {\n          while (l[$ELEMENT]) l = l();\n          r.insert(e, l, multiExpression ? null : undefined);\n        }\n      }\n    }\n    function parseClass(string) {\n      const m = string.split(/([\\.#]?[^\\s#.]+)/);\n      if (/^\\.|#/.test(m[1])) e = document.createElement(\"div\");\n      for (let i = 0; i < m.length; i++) {\n        const v = m[i],\n          s = v.substring(1, v.length);\n        if (!v) continue;\n        if (!e) e = r.SVGElements.has(v) ? document.createElementNS(\"http://www.w3.org/2000/svg\", v) : document.createElement(v);else if (v[0] === \".\") classes.push(s);else if (v[0] === \"#\") e.setAttribute(\"id\", s);\n      }\n    }\n    function detectMultiExpression(list) {\n      for (let i = 1; i < list.length; i++) {\n        if (typeof list[i] === \"function\") {\n          multiExpression = true;\n          return;\n        } else if (Array.isArray(list[i])) {\n          detectMultiExpression(list[i]);\n        }\n      }\n    }\n  }\n  h.Fragment = props => props.children;\n  return h;\n}\n\nconst h = createHyperScript({\n  spread,\n  assign,\n  insert,\n  createComponent,\n  dynamicProperty,\n  SVGElements\n});\n\nexport { h as default };\n"],"mappings":"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"}